# π” λ΅μ»¬/λ°°ν¬ νμ΄μ§€ κ°„ λ°μ΄ν„° κ³µμ  λ¬Έμ  ν•΄κ²°

## π› λ¬Έμ  μƒν™©

**μ¦μƒ:**
- λ΅μ»¬(localhost)μ—μ„ νμ›κ°€μ… + κ±°λ λ“±λ΅ β…
- λ°°ν¬ νμ΄μ§€μ—μ„ λ΅κ·ΈμΈ β†’ λ°μ΄ν„° μ—†μ β

## π” μ›μΈ

### **μ•”νΈν™” ν‚¤ μƒμ„± νƒ€μ΄λ° λ¬Έμ **

**μ΄μ „ μ½”λ“:**
```javascript
// λ΅κ·ΈμΈ μ‹
await auth.signInWithEmailAndPassword(email, password);
encryptionKey = generateEncryptionKey(password);

// generateEncryptionKey ν•¨μ
function generateEncryptionKey(password) {
    const salt = auth.currentUser ? auth.currentUser.email : 'default-salt';
    // β†‘ λ¬Έμ ! auth.currentUserκ°€ μ•„μ§ nullμΌ μ μμ
}
```

**λ¬Έμ :**
1. `signInWithEmailAndPassword`λ” λΉ„λ™κΈ° μ‹¤ν–‰
2. Firebaseλ” `onAuthStateChanged` μ½λ°±μ—μ„ `auth.currentUser` μ„¤μ •
3. λ„¤νΈμ›ν¬ μ§€μ—° μ‹ `auth.currentUser`κ°€ null β†’ `'default-salt'` μ‚¬μ©
4. λ΅μ»¬κ³Ό λ‹¤λ¥Έ μ•”νΈν™” ν‚¤ μƒμ„± β†’ λ³µνΈν™” μ‹¤ν¨!

**μ‹¤μ  μ‹λ‚λ¦¬μ¤:**

**λ΅μ»¬ (λΉ λ¥Έ λ„¤νΈμ›ν¬):**
```
λ΅κ·ΈμΈ β†’ auth.currentUser μ¦‰μ‹ μ„¤μ •
β†’ salt = "user@example.com"
β†’ μ•”νΈν™” ν‚¤ A μƒμ„±
β†’ λ°μ΄ν„° λ³µνΈν™” μ„±κ³µ β…
```

**λ°°ν¬ (λλ¦° λ„¤νΈμ›ν¬):**
```
λ΅κ·ΈμΈ β†’ auth.currentUser μ•„μ§ null
β†’ salt = "default-salt"  β† λ‹¤λ¥Έ salt!
β†’ μ•”νΈν™” ν‚¤ B μƒμ„±  β† λ‹¤λ¥Έ ν‚¤!
β†’ λ°μ΄ν„° λ³µνΈν™” μ‹¤ν¨ β
```

## β… ν•΄κ²° λ°©λ²•

### **μμ •λ μ½”λ“:**

```javascript
// μ•”νΈν™” ν‚¤ μƒμ„± ν•¨μ
function generateEncryptionKey(password, email = null) {
    const salt = email || (auth.currentUser ? auth.currentUser.email : 'default-salt');
    // β†‘ μ΄λ©”μΌμ„ μ§μ ‘ μ „λ‹¬λ°›μ!
}

// λ΅κ·ΈμΈ μ‹
await auth.signInWithEmailAndPassword(email, password);
encryptionKey = generateEncryptionKey(password, email);
// β†‘ μ΄λ©”μΌμ„ μ§μ ‘ μ „λ‹¬!
```

## π“‹ μ μ© λ°©λ²•

### **1λ‹¨κ³„: μƒ νμΌ μ—…λ΅λ“**

μμ •λ `Script.js` νμΌμ„ λ‹¤μ΄λ΅λ“ν•μ—¬ μ—…λ΅λ“ν•μ„Έμ”.

### **2λ‹¨κ³„: ν…μ¤νΈ**

1. **λ°°ν¬ νμ΄μ§€μ—μ„ λ΅κ·Έμ•„μ›ƒ**
2. **κ°•μ  μƒλ΅κ³ μΉ¨** (Ctrl + Shift + R)
3. **μ¬λ΅κ·ΈμΈ**
4. **μ½μ†” λ΅κ·Έ ν™•μΈ** (F12)

### **3λ‹¨κ³„: μ½μ†” λ΅κ·Έ ν™•μΈ**

μ •μƒ μ‘λ™ μ‹ λ‹¤μ λ΅κ·Έκ°€ λ‚νƒ€λ‚μ•Ό ν•©λ‹λ‹¤:

```
β… λ΅κ·ΈμΈ μ„±κ³µ λ° μ•”νΈν™” ν‚¤ μƒμ„±, email: user@example.com
π”‘ μ•”νΈν™” ν‚¤ μƒμ„±, salt: user@example.com
π“¥ Firebaseμ—μ„ λ°μ΄ν„° λ΅λ“ μ‹μ‘, μ‚¬μ©μ: user@example.com
π”‘ μ•”νΈν™” ν‚¤ μ΅΄μ¬ μ—¬λ¶€: true
π“ Firebaseμ—μ„ 3κ° λ¬Έμ„ μ΅°νλ¨
π”“ λ³µνΈν™” μ‹λ„ μ¤‘... (μ•”νΈν™” ν‚¤ κΈΈμ΄: 64)
β… λ³µνΈν™” μ„±κ³µ, JSON κΈΈμ΄: 500
β… Firebase λ΅λ“ μ™„λ£: μ„±κ³µ 3κ°, μ‹¤ν¨ 0κ°
```

λ¬Έμ  λ°μƒ μ‹:
```
β λ³µνΈν™” μ‹¤ν¨: λΉ λ¬Έμμ—΄ λ°ν™
   μ›μΈ: μλ»λ λΉ„λ°€λ²νΈ λλ” λ‹¤λ¥Έ ν™κ²½μ—μ„ μƒμ„±λ λ°μ΄ν„°
π’΅ ν•΄κ²°: λ΅μ»¬κ³Ό λ°°ν¬ νμ΄μ§€μ—μ„ κ°™μ€ λΉ„λ°€λ²νΈλ¥Ό μ‚¬μ©ν–λ”μ§€ ν™•μΈ
```

## π”§ μ¶”κ°€ λ””λ²„κΉ…

### **μ•”νΈν™” ν‚¤ salt ν™•μΈ**

**λ΅μ»¬μ—μ„:**
1. F12 β†’ Console
2. λ΅κ·ΈμΈ
3. `π”‘ μ•”νΈν™” ν‚¤ μƒμ„±, salt:` λ΅κ·Έ ν™•μΈ
4. salt κ°’ λ³µμ‚¬ (μ: `user@example.com`)

**λ°°ν¬ νμ΄μ§€μ—μ„:**
1. F12 β†’ Console
2. λ΅κ·ΈμΈ
3. `π”‘ μ•”νΈν™” ν‚¤ μƒμ„±, salt:` λ΅κ·Έ ν™•μΈ
4. salt κ°’ λΉ„κµ

**λ‘ κ°’μ΄ κ°™μ•„μ•Ό ν•©λ‹λ‹¤!**

## π’΅ μλ°© μ΅°μΉ

### **ν•­μƒ κ°™μ€ λΉ„λ°€λ²νΈ μ‚¬μ©**

λ΅μ»¬κ³Ό λ°°ν¬ νμ΄μ§€μ—μ„:
- β… **κ°™μ€ μ΄λ©”μΌ**
- β… **κ°™μ€ λΉ„λ°€λ²νΈ**

### **λΉ„λ°€λ²νΈ λ³€κ²½ μ‹ μ£Όμ**

λΉ„λ°€λ²νΈλ¥Ό λ³€κ²½ν•λ©΄:
1. μƒ μ•”νΈν™” ν‚¤κ°€ μƒμ„±λ¨
2. μ΄μ „ λ°μ΄ν„°λ” λ³µνΈν™” λ¶κ°€λ¥
3. **ν•΄κ²°:** λΉ„λ°€λ²νΈ λ³€κ²½ μ „μ— λ°μ΄ν„° λ°±μ—… ν•„μ”

## π¨ μ—¬μ „ν λ°μ΄ν„°κ°€ μ• λ³΄μ΄λ©΄?

### **μµμ… 1: κΈ°μ΅΄ λ°μ΄ν„° μ¬μ•”νΈν™”**

ν„μ¬λ” λ¶κ°€λ¥ν•©λ‹λ‹¤. μ΄μ „ μ•”νΈν™” ν‚¤λ΅ λ°μ΄ν„°λ¥Ό λ³µνΈν™”ν•  μ μ—†κΈ° λ•λ¬Έμ…λ‹λ‹¤.

### **μµμ… 2: μƒλ΅ μ‹μ‘**

1. λ΅μ»¬κ³Ό λ°°ν¬μ—μ„ **κ°™μ€ λΉ„λ°€λ²νΈ**λ΅ νμ›κ°€μ…
2. κ±°λ λ°μ΄ν„° μƒλ΅ μ…λ ¥
3. μ΄ν›„λ¶€ν„°λ” μ •μƒ μ‘λ™ β…

### **μµμ… 3: λ΅μ»¬μ—μ„ λ°μ΄ν„° μ¶”μ¶**

λ΅μ»¬μ—μ„:
1. F12 β†’ Console
2. λ‹¤μ μ½”λ“ μ‹¤ν–‰:
   ```javascript
   localStorage.getItem(`overseasTransactions_${auth.currentUser.uid}`)
   ```
3. μ¶λ ¥λ κ°’ λ³µμ‚¬
4. λ°°ν¬ νμ΄μ§€ Consoleμ—μ„:
   ```javascript
   localStorage.setItem(`overseasTransactions_${auth.currentUser.uid}`, 'λ³µμ‚¬ν•κ°’')
   ```
5. μƒλ΅κ³ μΉ¨

## π“ ν–¥ν›„ κ°μ„  μ‚¬ν•­

### **μ•”νΈν™” ν‚¤ λ§μ΄κ·Έλ μ΄μ… κΈ°λ¥ μ¶”κ°€ (μμ •)**

λΉ„λ°€λ²νΈ λ³€κ²½ μ‹:
1. μ΄μ „ λΉ„λ°€λ²νΈλ΅ λ°μ΄ν„° λ³µνΈν™”
2. μƒ λΉ„λ°€λ²νΈλ΅ μ¬μ•”νΈν™”
3. Firebaseμ— μ €μ¥

### **λ°±μ—… κΈ°λ¥ μ¶”κ°€ (μμ •)**

μ •κΈ°μ μΌλ΅:
1. λ¨λ“  λ°μ΄ν„°λ¥Ό ν‰λ¬ΈμΌλ΅ λ‚΄λ³΄λ‚΄κΈ°
2. JSON νμΌλ΅ μ €μ¥
3. ν•„μ” μ‹ λ³µμ› κ°€λ¥

## π’¬ μ¶”κ°€ μ§λ¬Έ?

μ½μ†” λ΅κ·Έλ¥Ό λ³µμ‚¬ν•΄μ„ κ³µμ ν•΄μ£Όμ„Έμ”:

```
F12 β†’ Console β†’ μ „μ²΄ μ„ νƒ (Ctrl + A) β†’ λ³µμ‚¬ (Ctrl + C)
```

νΉν μ΄λ° λ΅κ·Έλ¥Ό μ°Ύμ•„λ³΄μ„Έμ”:
- `π”‘ μ•”νΈν™” ν‚¤ μƒμ„±, salt:`
- `π”“ λ³µνΈν™” μ‹λ„ μ¤‘...`
- `β λ³µνΈν™” μ‹¤ν¨:`
