# 🚨 회원 승인 시스템 빠른 설정 가이드

## ⚠️ "목록을 불러오는데 실패했습니다" 오류 해결

이 오류는 **Firestore 보안 규칙**이 설정되지 않아서 발생합니다.

## ✅ 해결 방법 (3분 소요)

### **1단계: Firebase Console 열기**

1. https://console.firebase.google.com 접속
2. 프로젝트 선택: **multisell-d0df0**
3. 왼쪽 메뉴에서 **Firestore Database** 클릭

### **2단계: 보안 규칙 설정**

1. 상단 탭에서 **규칙(Rules)** 클릭
2. 기존 내용을 **전체 삭제**
3. `firestore.rules` 파일의 내용을 **복사해서 붙여넣기**
4. 우측 상단의 **게시(Publish)** 버튼 클릭

### **3단계: 테스트**

1. 브라우저 새로고침 (Ctrl + Shift + R)
2. ⚙️ 계정 정보 클릭
3. "👥 회원 승인 관리" 섹션 확인

이제 작동해야 합니다! ✅

---

## 📋 전체 설정 체크리스트

### ✅ **완료해야 할 항목:**

- [ ] Firestore 보안 규칙 설정 (위 1-3단계)
- [ ] 관리자 이메일 설정 (Script.js 46번 줄)
- [ ] 파일 업로드 (index.html, Script.js, Style.css)

### ✅ **선택 사항:**

- [ ] Firestore 인덱스 생성 (성능 향상, 필수는 아님)

---

## 🔍 문제가 계속되면?

### **1. 브라우저 콘솔 확인 (F12)**

오류 메시지를 확인하세요:

**"permission-denied"** → 보안 규칙 재확인
```
1. Firebase Console → Firestore → 규칙
2. 게시 버튼이 회색인지 확인 (이미 게시됨)
3. 파란색이면 "게시" 버튼 클릭
```

**"failed-precondition"** → 인덱스 필요 (하지만 지금은 필요 없음)
```
이 오류는 더 이상 나타나지 않아야 합니다.
orderBy를 제거했기 때문입니다.
```

### **2. 관리자 권한 확인**

Script.js 파일 확인:
```javascript
const ADMIN_EMAILS = [
    'jisa861@gmail.com',  // ← 로그인한 이메일과 일치하는지 확인
];
```

로그인한 이메일이 위 배열에 있어야 합니다!

### **3. 완전히 새로 시작**

```
1. F12 → Application → Clear site data
2. Ctrl + Shift + R (강제 새로고침)
3. 재로그인
4. ⚙️ 계정 정보 → 회원 승인 관리
```

---

## 💡 테스트 방법

### **승인 대기 사용자 만들기:**

1. **시크릿 창 열기** (Ctrl + Shift + N)
2. 사이트 접속
3. 일반 이메일로 회원가입 (예: test@example.com)
4. "승인 대기" 메시지 확인
5. **원래 창으로 돌아가기**
6. ⚙️ 계정 정보 → 회원 승인 관리
7. test@example.com 이 목록에 나타나야 함
8. ✅ 승인 클릭
9. **시크릿 창으로 돌아가기**
10. 로그인 → 성공! ✅

---

## 📞 여전히 안 되면?

콘솔 로그를 복사해서 공유해주세요:

```
F12 → Console → 전체 선택 (Ctrl + A) → 복사 (Ctrl + C)
```

특히 이런 메시지를 찾아보세요:
- `❌ 승인 대기 목록 로드 오류:`
- `FirebaseError:`
- `permission-denied`
