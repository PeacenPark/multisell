# ğŸ”¥ Firebase ì„¤ì • ê°€ì´ë“œ

## âš ï¸ í•„ìˆ˜ ì„¤ì • ì‚¬í•­

ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•˜ë ¤ë©´ Firebase Consoleì—ì„œ ë‹¤ìŒ ì„¤ì •ì´ **í•„ìˆ˜**ì…ë‹ˆë‹¤:

---

## 1ï¸âƒ£ Firebase Authentication ì„¤ì •

### ë‹¨ê³„:
1. [Firebase Console](https://console.firebase.google.com/) ì ‘ì†
2. í”„ë¡œì íŠ¸ ì„ íƒ: `multisell-d0df0`
3. ì¢Œì¸¡ ë©”ë‰´ì—ì„œ **"Authentication"** í´ë¦­
4. **"Sign-in method"** íƒ­ í´ë¦­
5. **"Email/Password"** ì œê³µì—…ì²´ ì°¾ê¸°
6. **"ì‚¬ìš© ì„¤ì •"** í† ê¸€ ì¼œê¸°
7. **"ì €ì¥"** í´ë¦­

### ğŸ“§ ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ì´ë©”ì¼ í…œí”Œë¦¿ (ì„ íƒì‚¬í•­)
1. Authentication í˜ì´ì§€ì—ì„œ **"Templates"** íƒ­ í´ë¦­
2. **"Password reset"** ì„ íƒ
3. ì´ë©”ì¼ í…œí”Œë¦¿ì„ ì›í•˜ëŠ” ëŒ€ë¡œ ìˆ˜ì • ê°€ëŠ¥
4. ë°œì‹ ì ì´ë¦„ê³¼ íšŒì‹  ì´ë©”ì¼ ì„¤ì • ê°€ëŠ¥

âœ… ì™„ë£Œë˜ë©´ ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ë¡œ íšŒì›ê°€ì…/ë¡œê·¸ì¸/ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

## 2ï¸âƒ£ Firestore Database ìƒì„±

### ë‹¨ê³„:
1. Firebase Console ì¢Œì¸¡ ë©”ë‰´ì—ì„œ **"Firestore Database"** í´ë¦­
2. **"ë°ì´í„°ë² ì´ìŠ¤ ë§Œë“¤ê¸°"** ë²„íŠ¼ í´ë¦­
3. **ë³´ì•ˆ ê·œì¹™ ì„ íƒ:**
   - âš ï¸ **"í…ŒìŠ¤íŠ¸ ëª¨ë“œì—ì„œ ì‹œì‘"** ì„ íƒ (ë‚˜ì¤‘ì— ë³´ì•ˆ ê·œì¹™ ë³€ê²½ ì˜ˆì •)
   - ë˜ëŠ” **"í”„ë¡œë•ì…˜ ëª¨ë“œì—ì„œ ì‹œì‘"** ì„ íƒ í›„ ì•„ë˜ 3ë‹¨ê³„ì—ì„œ ê·œì¹™ ì„¤ì •
4. **ìœ„ì¹˜ ì„ íƒ:** `asia-northeast3 (Seoul)` ê¶Œì¥
5. **"ì‚¬ìš© ì„¤ì •"** í´ë¦­

âœ… ì™„ë£Œë˜ë©´ Firestore Databaseê°€ ìƒì„±ë©ë‹ˆë‹¤.

---

## 3ï¸âƒ£ Firestore ë³´ì•ˆ ê·œì¹™ ì„¤ì • (ì¤‘ìš”! â­)

### âš ï¸ ì™œ í•„ìš”í•œê°€ìš”?
- ê¸°ë³¸ ê·œì¹™ì€ ëª¨ë“  ì½ê¸°/ì“°ê¸°ë¥¼ ì°¨ë‹¨í•©ë‹ˆë‹¤
- ì‚¬ìš©ìë³„ ë°ì´í„° ê²©ë¦¬ë¥¼ ìœ„í•´ í•„ìˆ˜ì…ë‹ˆë‹¤
- **ì´ ì„¤ì •ì´ ì—†ìœ¼ë©´ íšŒì›íƒˆí‡´ ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤**

### ë‹¨ê³„:
1. Firestore Database í˜ì´ì§€ì—ì„œ **"ê·œì¹™"** íƒ­ í´ë¦­
2. ê¸°ì¡´ ê·œì¹™ì„ **ëª¨ë‘ ì‚­ì œ**í•˜ê³  ì•„ë˜ ê·œì¹™ ë³µì‚¬/ë¶™ì—¬ë„£ê¸°:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // ê±°ë˜ ë‚´ì—­: ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ ë³¸ì¸ ë°ì´í„° ì½ê¸°/ì“°ê¸°/ì‚­ì œ ê°€ëŠ¥
    match /transactions/{transactionId} {
      allow read, write, delete: if request.auth != null && 
                                   resource.data.userId == request.auth.uid;
      allow create: if request.auth != null && 
                     request.resource.data.userId == request.auth.uid;
    }
    
    // ì»¤ìŠ¤í…€ ë“œë¡­ë‹¤ìš´: ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ ë³¸ì¸ ë°ì´í„° ì½ê¸°/ì“°ê¸°/ì‚­ì œ ê°€ëŠ¥
    match /customDropdowns/{dropdownId} {
      allow read, write, delete: if request.auth != null && 
                                   resource.data.userId == request.auth.uid;
      allow create: if request.auth != null && 
                     request.resource.data.userId == request.auth.uid;
    }
  }
}
```

3. **"ê²Œì‹œ"** ë²„íŠ¼ í´ë¦­

### ê·œì¹™ ì„¤ëª…:
- **`request.auth != null`**: ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥
- **`resource.data.userId == request.auth.uid`**: ë³¸ì¸ ë°ì´í„°ë§Œ ì ‘ê·¼ ê°€ëŠ¥
- **`allow read, write, delete`**: ì½ê¸°, ì“°ê¸°, ì‚­ì œ ëª¨ë‘ í—ˆìš©
- **`allow create`**: ìƒˆ ë¬¸ì„œ ìƒì„± ì‹œ userId í™•ì¸

âœ… ì™„ë£Œë˜ë©´ ê° ì‚¬ìš©ìëŠ” ë³¸ì¸ ë°ì´í„°ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ëª¨ë“œë¡œ ì‹œì‘í–ˆë‹¤ë©´?

### í…ŒìŠ¤íŠ¸ ëª¨ë“œ ê·œì¹™ (30ì¼ í›„ ë§Œë£Œ):
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if request.time < timestamp.date(2025, 2, 1);
    }
  }
}
```

âš ï¸ **ì´ ê·œì¹™ì€ ë³´ì•ˆì´ ì•½í•˜ê³  30ì¼ í›„ ë§Œë£Œë©ë‹ˆë‹¤!**
- ëˆ„êµ¬ë‚˜ ëª¨ë“  ë°ì´í„°ë¥¼ ì½ê³  ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ë°˜ë“œì‹œ ìœ„ì˜ **3ë‹¨ê³„ ë³´ì•ˆ ê·œì¹™**ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”

---

## ğŸ” ê·œì¹™ í…ŒìŠ¤íŠ¸í•˜ê¸°

### Firestore ê·œì¹™ ì‹œë®¬ë ˆì´í„°:
1. Firestore Database â†’ **"ê·œì¹™"** íƒ­
2. **"ê·œì¹™ ì‹œë®¬ë ˆì´í„°"** íŒ¨ë„ ì—´ê¸°
3. ë‹¤ìŒ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸:

#### âœ… ì„±ê³µí•´ì•¼ í•˜ëŠ” ê²½ìš°:
```
ìœ„ì¹˜: /transactions/test123
ì¸ì¦ë¨: Yes
UID: user123
ì‘ì—…: get
ë°ì´í„°: { userId: "user123", ... }
â†’ âœ… í—ˆìš©ë¨ (ë³¸ì¸ ë°ì´í„°)
```

#### âŒ ì‹¤íŒ¨í•´ì•¼ í•˜ëŠ” ê²½ìš°:
```
ìœ„ì¹˜: /transactions/test456
ì¸ì¦ë¨: Yes
UID: user123
ì‘ì—…: get
ë°ì´í„°: { userId: "user456", ... }
â†’ âŒ ê±°ë¶€ë¨ (ë‹¤ë¥¸ ì‚¬ëŒ ë°ì´í„°)
```

---

## ğŸ“ ì„¤ì • ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Authentication â†’ Email/Password í™œì„±í™”
- [ ] Firestore Database ìƒì„±
- [ ] Firestore ë³´ì•ˆ ê·œì¹™ ì„¤ì • (3ë‹¨ê³„)
- [ ] ë³´ì•ˆ ê·œì¹™ í…ŒìŠ¤íŠ¸ ì™„ë£Œ

âœ… ëª¨ë‘ ì²´í¬ë˜ì—ˆë‹¤ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•  ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!

---

## ğŸ†˜ ë¬¸ì œ í•´ê²°

### "Missing or insufficient permissions" ì˜¤ë¥˜
â†’ Firestore ë³´ì•ˆ ê·œì¹™ì„ 3ë‹¨ê³„ëŒ€ë¡œ ì„¤ì •í–ˆëŠ”ì§€ í™•ì¸

### íšŒì›ê°€ì…ì€ ë˜ëŠ”ë° ë°ì´í„° ì €ì¥ì´ ì•ˆ ë¨
â†’ Firestore ë³´ì•ˆ ê·œì¹™ í™•ì¸ (íŠ¹íˆ `userId` ì¡°ê±´)

### í…ŒìŠ¤íŠ¸ ëª¨ë“œ ë§Œë£Œ ì˜¤ë¥˜
â†’ 3ë‹¨ê³„ ë³´ì•ˆ ê·œì¹™ìœ¼ë¡œ ë³€ê²½

### ë‹¤ë¥¸ ì‚¬ìš©ì ë°ì´í„°ê°€ ë³´ì„
â†’ ë³´ì•ˆ ê·œì¹™ì— `userId` ì¡°ê±´ ì¶”ê°€ í™•ì¸

---

## ğŸ“š ì¶”ê°€ ë¦¬ì†ŒìŠ¤

- [Firebase Authentication ë¬¸ì„œ](https://firebase.google.com/docs/auth)
- [Firestore ë³´ì•ˆ ê·œì¹™ ë¬¸ì„œ](https://firebase.google.com/docs/firestore/security/get-started)
- [Firebase Console](https://console.firebase.google.com/)

---

**ì„¤ì •ì— ë¬¸ì œê°€ ìˆìœ¼ë©´ ì´ íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”! ğŸš€**
